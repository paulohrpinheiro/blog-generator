#!/usr/bin/env ruby

require 'optparse'

require_relative '../lib/gerablog'

options = {}

optparse = OptionParser.new do |opts|
  opts.banner = 'Usage: optparse [options]'

  opts.on('-h', '--help', 'Display this screen') do
    puts opts
    exit
  end

  options[:root] = '.'
  opts.on('-r', '--root FILENAME') do |dir|
    options[:root] = dir
  end
end

optparse.parse!
gb = GeraBlog::Blog.new(root_dir: options[:root])

gb.render!
gb.save
